<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SmartCoords</title>
  <meta name="description"
    content="Convert DLTM and UTM coordinates to GPS and vice versa. Open in Google Maps or share via WhatsApp." />
  <meta name="theme-color" content="#0A0A0A" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&family=Space+Grotesk:wght@500;700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <div class="card" id="app-card">
    <!-- Header -->
    <div class="header">
      <div class="header-icon">
        <img src="logo.png" alt="SmartCoords Logo" width="48" height="48" style="display: block;" />
      </div>
      <h1>SmartCoords</h1>
      <p class="subtitle">High-Fidelity Coordinate Converter</p>
      <button class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="5" />
          <line x1="12" y1="1" x2="12" y2="3" />
          <line x1="12" y1="21" x2="12" y2="23" />
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
          <line x1="1" y1="12" x2="3" y2="12" />
          <line x1="21" y1="12" x2="23" y2="12" />
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
        </svg>
        <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
        </svg>
      </button>
    </div>

    <!-- Mode Toggle -->
    <div class="mode-toggle">
      <button class="mode-btn active" id="mode-dltm-to-gps" onclick="setMode('dltm-to-gps')">DLTM → GPS</button>
      <button class="mode-btn" id="mode-gps-to-dltm" onclick="setMode('gps-to-dltm')">GPS → DLTM</button>
      <button class="mode-btn" id="mode-utm-to-gps" onclick="setMode('utm-to-gps')">UTM → GPS</button>
      <button class="mode-btn" id="mode-gps-to-utm" onclick="setMode('gps-to-utm')">GPS → UTM</button>
    </div>

    <!-- UTM Options (shown only in UTM modes) -->
    <div class="utm-options" id="utm-options">
      <div class="input-group utm-zone-group">
        <label for="utm-zone">Zone</label>
        <input type="number" id="utm-zone" min="1" max="60" value="40" inputmode="numeric" />
      </div>
      <div class="input-group utm-hemi-group">
        <label for="utm-hemi">Hemisphere</label>
        <select id="utm-hemi">
          <option value="north" selected>North</option>
          <option value="south">South</option>
        </select>
      </div>
    </div>

    <!-- Inputs -->
    <div class="input-group">
      <label for="input1" id="label1">Easting (X)</label>
      <input type="number" id="input1" placeholder="500000" inputmode="decimal" />
    </div>
    <div class="input-group">
      <label for="input2" id="label2">Northing (Y)</label>
      <input type="number" id="input2" placeholder="2780000" inputmode="decimal" />
    </div>

    <!-- Convert Button -->
    <button class="btn btn-convert" id="btn-convert" onclick="convert()">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="16 3 21 3 21 8" />
        <line x1="4" y1="20" x2="21" y2="3" />
        <polyline points="21 16 21 21 16 21" />
        <line x1="15" y1="15" x2="21" y2="21" />
      </svg>
      Convert Coordinates
    </button>

    <!-- Results -->
    <div class="results" id="results">
      <div class="result-row">
        <span class="result-label" id="result-label1">Latitude</span>
        <div class="result-value-wrapper">
          <span class="result-value" id="result1">—</span>
          <button class="copy-btn" onclick="copyResult('result1')" title="Copy">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
            </svg>
          </button>
        </div>
      </div>
      <div class="result-row">
        <span class="result-label" id="result-label2">Longitude</span>
        <div class="result-value-wrapper">
          <span class="result-value" id="result2">—</span>
          <button class="copy-btn" onclick="copyResult('result2')" title="Copy">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Error -->
    <div class="error" id="error"></div>

    <!-- Action Buttons -->
    <div class="actions" id="actions">
      <button class="btn btn-maps" id="btn-maps" onclick="openGoogleMaps()" disabled>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="3 11 22 2 13 21 11 13 3 11" />
        </svg>
        Open in Google Maps
      </button>
      <button class="btn btn-whatsapp" id="btn-whatsapp" onclick="shareWhatsApp()" disabled>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
        </svg>
        Share on WhatsApp
      </button>
      <button class="btn btn-share" id="btn-share" onclick="shareNative()" disabled>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="18" cy="5" r="3" />
          <circle cx="6" cy="12" r="3" />
          <circle cx="18" cy="19" r="3" />
          <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
          <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
        </svg>
        Share
      </button>
    </div>

    <!-- History Log (The Manifest) -->
    <div class="history-panel" id="history-panel">
      <div class="history-header">
        <span class="history-title">▌ RECENT LOG</span>
        <span class="history-count" id="history-count">0 / 10</span>
        <button class="history-clear-btn" id="history-clear" onclick="clearHistory()" title="Clear log">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="3 6 5 6 21 6" />
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
          </svg>
        </button>
      </div>
      <div class="history-table-wrapper" id="history-table-wrapper">
        <table class="history-table">
          <thead>
            <tr>
              <th>#</th>
              <th>MODE</th>
              <th>INPUT</th>
              <th>OUTPUT</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="history-tbody"></tbody>
        </table>
      </div>
      <div class="history-empty" id="history-empty">
        <span>NO RECORDS — RUN A CONVERSION</span>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <span id="visitor-count">SESSION: 0</span> ■ POWERED BY ARAR UTILITY
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.9.0/proj4.js"></script>
  <script src="script.js"></script>
</body>

</html>